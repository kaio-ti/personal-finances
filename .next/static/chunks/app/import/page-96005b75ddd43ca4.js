(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{4068:function(e,r,a){Promise.resolve().then(a.bind(a,9534))},9534:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return j}});var t=a(7437),n=a(2265),s=a(3616),o=a(3067),l=a(1541),i=a(1424),c=a(6110),d=a(3023),u=a(3177),m=a(9311);let f=n.forwardRef((e,r)=>{let{className:a,value:n,...s}=e;return(0,t.jsx)(u.fC,{ref:r,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...s,children:(0,t.jsx)(u.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});f.displayName=u.fC.displayName;var x=a(8094),p=a(1812),h=a.n(p);let v=e=>parseFloat(e.replace(",",".")),g=e=>{let r=e.split("/");if(3===r.length){let[e,a,t]=r;return"".concat(t,"-").concat(a,"-").concat(e)}return e};async function b(e){return new Promise((r,a)=>{h().parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:e=>{try{let a=e.data.map((e,r)=>{try{let r=v(e["Valor (em R$)"])||0;if("Inclusao de Pagamento"===e["Descri\xe7\xe3o"]||r<0)return null;return{description:e["Descri\xe7\xe3o"]||"Sem descri\xe7\xe3o",amount:r,date:g(e["Data de Compra"])||new Date().toISOString(),category:e.Categoria||"Outros",installment:e.Parcela||"\xdanica",paymentMethod:"Cr\xe9dito",monthYear:""}}catch(e){return console.error("Erro ao processar linha ".concat(r+1,":"),e),null}}).filter(Boolean);r(a)}catch(e){a(e)}},error:e=>{a(e)}})})}var y=a(4675);function N(){let[e,r]=(0,n.useState)(!1),[a,u]=(0,n.useState)(0),[m,p]=(0,n.useState)(!1),[h,v]=(0,n.useState)(""),g=(0,n.useCallback)(async e=>{if(!h){i.Am.error("Por favor, selecione um m\xeas de refer\xeancia antes de importar.");return}r(!0),u(0);try{for(let r of e){let e=await b(r),a=e.map(e=>({...e,monthYear:h}));await y.db.transactions.bulkAdd(a),u(100),i.Am.success("Arquivo importado com sucesso!"),p(!0)}}catch(e){i.Am.error("Erro ao processar arquivo.")}finally{r(!1)}},[h]),{getRootProps:N,getInputProps:j}=(0,s.uI)({onDrop:g,accept:{"text/csv":[".csv"]}});return(0,t.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(d.z,{variant:"outline",onClick:()=>window.location.href="/",className:"flex items-center",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Voltar \xe0 P\xe1gina Inicial"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Importar Transa\xe7\xf5es"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"M\xeas de Refer\xeancia"}),(0,t.jsxs)(x.Ph,{onValueChange:v,children:[(0,t.jsx)(x.i4,{className:"mt-1 w-full",children:(0,t.jsx)(x.ki,{placeholder:"Selecione um m\xeas..."})}),(0,t.jsx)(x.Bw,{children:[{name:"Janeiro",value:"2025-01"},{name:"Fevereiro",value:"2025-02"},{name:"Mar\xe7o",value:"2025-03"},{name:"Abril",value:"2025-04"},{name:"Maio",value:"2025-05"},{name:"Junho",value:"2025-06"},{name:"Julho",value:"2025-07"},{name:"Agosto",value:"2025-08"},{name:"Setembro",value:"2025-09"},{name:"Outubro",value:"2025-10"},{name:"Novembro",value:"2025-11"},{name:"Dezembro",value:"2025-12"}].map(e=>{let{name:r,value:a}=e;return(0,t.jsxs)(x.Ql,{value:a,children:[r," 2025"]},a)})})]})]}),(0,t.jsxs)(c.Zb,{...N(),className:"mt-4 p-6 border-dashed border-2 text-center cursor-pointer hover:bg-gray-100",children:[(0,t.jsx)("input",{...j()}),(0,t.jsx)(l.Z,{className:"w-10 h-10 mx-auto text-gray-500"}),(0,t.jsx)("p",{className:"mt-2 text-gray-700",children:"Arraste e solte um arquivo CSV ou clique para selecionar"})]}),e&&(0,t.jsx)(f,{value:a,className:"mt-4"}),m&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(d.z,{onClick:()=>window.location.href="/",children:"Voltar \xe0 P\xe1gina Inicial"})})]})}function j(){return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Import Transactions"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Import your transactions from CSV or PDF files"})]})}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)(N,{})})]})}},3023:function(e,r,a){"use strict";a.d(r,{z:function(){return c}});var t=a(7437),n=a(2265),s=a(7256),o=a(6061),l=a(9311);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:a,variant:n,size:o,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(i({variant:n,size:o,className:a})),ref:r,...d})});c.displayName="Button"},6110:function(e,r,a){"use strict";a.d(r,{Zb:function(){return o}});var t=a(7437),n=a(2265),s=a(9311);let o=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});o.displayName="Card";let l=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});l.displayName="CardHeader";let i=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});i.displayName="CardTitle";let c=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent";let u=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})});u.displayName="CardFooter"},8094:function(e,r,a){"use strict";a.d(r,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return v},i4:function(){return m},ki:function(){return u}});var t=a(7437),n=a(2265),s=a(3425),o=a(3523),l=a(9224),i=a(2442),c=a(9311);let d=s.fC;s.ZA;let u=s.B4,m=n.forwardRef((e,r)=>{let{className:a,children:n,...l}=e;return(0,t.jsxs)(s.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[n,(0,t.jsx)(s.JO,{asChild:!0,children:(0,t.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let f=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(s.u_,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=s.u_.displayName;let x=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(s.$G,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})});x.displayName=s.$G.displayName;let p=n.forwardRef((e,r)=>{let{className:a,children:n,position:o="popper",...l}=e;return(0,t.jsx)(s.h_,{children:(0,t.jsxs)(s.VY,{ref:r,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...l,children:[(0,t.jsx)(f,{}),(0,t.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,t.jsx)(x,{})]})})});p.displayName=s.VY.displayName;let h=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(s.__,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})});h.displayName=s.__.displayName;let v=n.forwardRef((e,r)=>{let{className:a,children:n,...o}=e;return(0,t.jsxs)(s.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(s.wU,{children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(s.eT,{children:n})]})});v.displayName=s.ck.displayName;let g=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(s.Z0,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...n})});g.displayName=s.Z0.displayName},4675:function(e,r,a){"use strict";a.d(r,{db:function(){return s}});var t=a(7868);class n extends t.ZP{constructor(){super("financeDB"),this.version(2).stores({transactions:"++id, description, amount, date, category, monthYear"})}}let s=new n},9311:function(e,r,a){"use strict";a.d(r,{cn:function(){return s}});var t=a(7042),n=a(4769);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.m6)((0,t.W)(r))}}},function(e){e.O(0,[924,424,721,971,864,744],function(){return e(e.s=4068)}),_N_E=e.O()}]);